{% extends '../base.html' %}
{% load static %}

{% block title %}
Bloggs - Profile
{% endblock %}

{% block content %}
  <div class="main-profile container-fluid d-flex flex-column justify-content-center align-items-center mt-5">
    <h1 class="main-h1">{{ other_user.username }} Profile</h1>
    <div class="container d-flex flex-row justify-content-between align-items-center">
        <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h3 class="card-title">Personal Information</h3>
              <p class="card-text">Username: {{ other_user.username }}</p>
              <p class="card-text">User Email: {{ other_user.email }}</p>
            </div>
        </div>

        <div class="card" style="width: 18rem;">
          <div class="card-body">
            <h3 class="card-title">Following & Followers</h3>
            <p class="card-text">Followers: {{ followers }}</p>
            <p class="card-text">Following: {{ following }}</p>
            <p class="card-text"></p>
            <p class="card-text"></p>
          </div>
        </div>

        <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h3 class="card-title">Your Activity</h3>
              <p class="card-text">Blogs: {{ blogs|length }}</p>
              <p class="card-text">Last posted on: {{ latest_blog.created_at }}</p>
              <p class="card-text">Last blog Posted: {{ latest_blog.title }}</p>
              <p class="card-text">Total Likes on posts: {{ total_likes }}</p>
            </div>
        </div>
    </div>
    {% if follows %}
      <a href="{% url 'unfollow' other_user.id user.id %}"><button class="btn btn-danger">UnFollow {{ other_user.username }}</button></a>
    {% else %}
      <a href="{% url 'follow' other_user.id user.id %}"><button class="btn btn-success">Follow {{ other_user.username }}</button></a>
    {% endif %}
  </div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'blogs/scripts/follow.js' %}"></script>
{% endblock %}